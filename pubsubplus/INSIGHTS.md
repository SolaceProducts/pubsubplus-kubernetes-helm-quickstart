# Configuration of Insights

To configure Insights please edit the Insights section of the Helm values. For more ways to override default chart values, refer to [Customizing the Helm Chart Before Installing](https://helm.sh/docs/intro/using_helm/#customizing-the-chart-before-installing).

Please ensure that the values are updated accordingly for each new broker deployment.

For inspiration see `pubsubplus/values.yaml` from [values.yaml](values.yaml).

| Parameter          |                 |            | Description                                                                                                                                 | Default                               |
|--------------------|-----------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
| `enabled`          |                 |            | Should be set to `true` if you want Insights enabled on the broker.                                                                         | `false`                               |
| `datadogSite`      |                 |            | The Datadog site location where all the broker metrics will flow.<br><br> It should not be changed and kept at `datadoghq.com`              | `datadoghq.com`                       |
| `datadogAPIKey`    |                 |            | The Datadog API key for your Solace Insights subscription.<br><br> It will be provided to you by **Solace**.                                |                                       |
| `agentSempClient`  | `password`      |            | Password for the `insights` user is **autogenerated**, if the value is empty.<br><br> It can be overridden here.                            |                                       |
|                    | `connection`    | `protocol` | The protocol to connect to the broker. It should be set to `http`.                                                                          | `http`                                |
|                    |                 | `port`     | The port to connect to the broker. It should be set to `8080`.                                                                              | `8080`                                |
| `resources`        | `requests`      | `cpu`      | `resources.requests.cpu` is the minimum CPU resource required by the insights-agent container.                                              | `200m`                                |
|                    |                 | `memory`   | `resources.requests.memory` is the minimum memory resource required by the insights-agent container.                                        | `256Mi`                               |
|                    | `limits`        | `cpu`      | `resources.limits.cpu` is the maximum CPU resource the insights-agent container can use.                                                    | `200m`                                |
|                    |                 | `memory`   | `resources.limits.memory` is the maximum memory resource the insights-agent container can use.                                              | `512Mi`                               |
| `environment_name` |                 |            | Environment specifies the name of the environment for this service deployment (e.g. `dev`, `staging`, `prod`, etc.)                         | `dev`                                 |
| `tags`             |                 |            | Insights tag values that are required for tagging metrics in Datadog                                                                        |                                       |
|                    | `service_id`    |            | `service_id` is a unique identifier for the service. Uses a default value if not provided.                                                  | A random value (e.g. `xyzqwe`)        |
|                    | `service_name`  |            | `service_name` is the display name of the service. Uses a default value if not provided.                                                    | `service_$service_id`                 |
|                    | `org_id`        |            | `org_id` is the unique identifier for your organization.<br><br> This is a mandatory value that will be provided to you by Solace.          |                                       |
|                    | `datacenter_id` |            | `datacenter_id` is the unique identifier for the parent datacenter containing this and more services. Uses a default value if not provided. | `$org_id_$environment_name_random_id` |
